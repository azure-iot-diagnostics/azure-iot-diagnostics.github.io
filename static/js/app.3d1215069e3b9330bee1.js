webpackJsonp([1],[,,,function(t,e,s){"use strict";var a=s(1),i=s(25),n=s(21),r=s.n(n),l=s(20),o=s.n(l);a.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"home",component:r.a},{path:"/appmap",name:"appMap",component:o.a}],linkActiveClass:"active"})},function(t,e,s){s(16);var a=s(0)(s(6),s(24),null,null);t.exports=a.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(1),i=s(4),n=s.n(i),r=s(3);a.a.config.productionTip=!1,new a.a({el:"#app",router:r.a,template:"<App/>",components:{App:n.a}})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(19).jsPlumb;e.default={name:"appMap",data:function(){return{device:{deviceNum:1,msgSent:0,latency:0},iotHub:{msgIngress:1,msgEgress:0,deviceConnected:0,failures:0},streamAnalytics:{processedMessage:1,latency:0,failures:0},msg:"Diagnostics Settings"}},beforeDestroy:function(){a.detachEveryConnection()},mounted:function(){a.ready(function(){a.connect({paintStyle:{stroke:"#999",strokeWidth:1},source:"item_left",target:"item_middle",anchor:["Left","Right"],endpoint:["Blank",{radius:2}],connector:["Straight"],overlays:[["Arrow",{location:1,width:12,length:12}],["Label",{label:"",cssClass:"label-class"}]]}),a.connect({paintStyle:{stroke:"#999",strokeWidth:1},source:"item_middle",target:"item_right",anchor:["Left","Right"],endpoint:["Blank",{radius:2}],connector:["Straight"],overlays:[["Arrow",{location:1,width:12,length:12}],["Label",{label:"",cssClass:"label-class"}]]}),a.on(window,"resize",a.repaintEverything)})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(9),i=s.n(a),n="https://zhqqi-diagnostic-rest.azurewebsites.net";e.default={name:"home",data:function(){return{msg:"Diagnostics Settings",connectionString:"",status:"ON",sample:"100",devices:"",result:"",detailedResult:""}},methods:{updateSetting:function(){var t=this;if(!this.connectionString)return void(this.result="Please fill out connection string.");this.result="Start updating diagnostics settings...",this.detailedResult="";var e=n+"/job/trigger?diag_enable="+("ON"===this.status)+"&diag_rate="+this.sample+"&connection_string="+encodeURIComponent(this.connectionString);this.devices&&(e+="&devices="+this.devices),$.get(e).done(function(e){var s=e;t.result="Updating diagnostics settings...";var a=setInterval(function(){$.get(n+"/job/get?id="+s+"&connection_string="+encodeURIComponent(t.connectionString)).done(function(e){if("completed"===e.status||"failed"===e.status||"cancelled"===e.status){t.result="Stauts: "+e.status;var s={createdTime:e.createdTime,startTime:e.startTime,endTime:e.endTime,deviceJobStatistics:e.deviceJobStatistics};t.detailedResult=i()(s,null,2),clearInterval(a)}})},1e3)}).fail(function(){t.result="Error: could not update diagnostics settings"})},onFileChange:function(t){var e=this,s=t.target.files||t.dataTransfer.files;if(s.length){var a=s[0],i=new FileReader;i.onload=function(t){e.devices=t.target.result},i.readAsBinaryString(a)}}}}},,,,,,function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,s){s(14);var a=s(0)(s(7),s(22),"data-v-2cee245c",null);t.exports=a.exports},function(t,e,s){s(15);var a=s(0)(s(8),s(23),"data-v-6fba60f6",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"diagram-container"}},[s("div",{staticClass:"item",attrs:{id:"item_left"}},[t._m(0),t._v(" "),s("div",{staticClass:"table-container"},[s("table",{staticClass:"table-style"},[s("col",{attrs:{width:"30%"}}),t._v(" "),s("col",{attrs:{width:"50%"}}),t._v(" "),s("col",{attrs:{width:"20%",align:"right"}}),t._v(" "),s("tr",[s("td",[t._v(t._s(t.device.deviceNum))]),t._v(" "),s("td",[t._v("Devices")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.device.msgSent))]),t._v(" "),s("td",[t._v("Msgs Sent")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.device.latency)+" ms")]),t._v(" "),s("td",[t._v("Avg Latency")]),t._v(" "),s("td")])])])]),t._v(" "),s("div",{staticClass:"item",attrs:{id:"item_middle"}},[t._m(1),t._v(" "),s("div",{staticClass:"table-container"},[s("table",{staticClass:"table-style"},[s("col",{attrs:{width:"20%"}}),t._v(" "),s("col",{attrs:{width:"60%"}}),t._v(" "),s("col",{attrs:{width:"20%",align:"right"}}),t._v(" "),s("tr",[s("td",[t._v(t._s(t.iotHub.msgIngress))]),t._v(" "),s("td",[t._v("Msgs Ingress")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.iotHub.msgEgress))]),t._v(" "),s("td",[t._v("Msgs Egress")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.iotHub.deviceConnected))]),t._v(" "),s("td",[t._v("Devices Connected")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.iotHub.failures)+"%")]),t._v(" "),s("td",[t._v("Failures")]),t._v(" "),s("td",[s("div",{staticClass:"svg-style"},[s("svg",{attrs:{viewBox:"0 0 16 16",role:"presentation","aria-hidden":"true",focusable:"false"}},[s("g",{attrs:{"aria-hidden":"true",role:"presentation"}},[s("circle",{staticClass:"msportalfx-svg-c14",staticStyle:{fill:"green"},attrs:{cx:"8",cy:"8",r:"8","aria-hidden":"true",role:"presentation"}}),t._v(" "),s("path",{staticClass:"msportalfx-svg-c01",staticStyle:{fill:"white"},attrs:{d:"M3.989 8.469L3.7 8.156a.207.207 0 0 1 .012-.293l.835-.772a.204.204 0 0 1 .289.012l2.296 2.462 3.951-5.06a.204.204 0 0 1 .289-.035l.903.697a.198.198 0 0 1 .035.285l-5.075 6.497-3.246-3.48z","aria-hidden":"true",role:"presentation"}})])])])])])])])]),t._v(" "),s("div",{staticClass:"item",attrs:{id:"item_right"}},[t._m(2),t._v(" "),s("div",{staticClass:"table-container"},[s("table",{staticClass:"table-style"},[s("col",{attrs:{width:"20%"}}),t._v(" "),s("col",{attrs:{width:"60%"}}),t._v(" "),s("col",{attrs:{width:"20%",align:"right"}}),t._v(" "),s("tr",[s("td",[t._v(t._s(t.streamAnalytics.processedMessage))]),t._v(" "),s("td",[t._v("Msgs Processed")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.streamAnalytics.latency))]),t._v(" "),s("td",[t._v("Average Latency")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v(t._s(t.streamAnalytics.failures)+"%")]),t._v(" "),s("td",[t._v("Failures")]),t._v(" "),s("td",[s("div",{staticClass:"svg-style"},[s("svg",{attrs:{viewBox:"0 0 16 16",role:"presentation","aria-hidden":"true",focusable:"false"}},[s("g",{attrs:{"aria-hidden":"true",role:"presentation"}},[s("circle",{staticClass:"msportalfx-svg-c14",staticStyle:{fill:"green"},attrs:{cx:"8",cy:"8",r:"8","aria-hidden":"true",role:"presentation"}}),t._v(" "),s("path",{staticClass:"msportalfx-svg-c01",staticStyle:{fill:"white"},attrs:{d:"M3.989 8.469L3.7 8.156a.207.207 0 0 1 .012-.293l.835-.772a.204.204 0 0 1 .289.012l2.296 2.462 3.951-5.06a.204.204 0 0 1 .289-.035l.903.697a.198.198 0 0 1 .035.285l-5.075 6.497-3.246-3.48z","aria-hidden":"true",role:"presentation"}})])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"item-title"},[t._v("Devices")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"item-title"},[t._v("IoT Hub")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"item-title"},[t._v("Stream Analytics")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setting"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("div",[s("form",[s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-xs-6 col-xs-offset-3"},[s("label",{attrs:{for:"connectionString"}},[t._v("Connection String")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.connectionString,expression:"connectionString"}],staticClass:"form-control",attrs:{type:"text",id:"connectionString",placeholder:"HostName=<my-hub>.azure-devices.net;SharedAccessKeyName=<my-policy>;SharedAccessKey=<my-policy-key>",required:""},domProps:{value:t.connectionString},on:{input:function(e){e.target.composing||(t.connectionString=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-xs-3 col-xs-offset-3"},[s("label",{attrs:{for:"status"}},[t._v("Status")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"form-control",attrs:{id:"status"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.status=e.target.multiple?s:s[0]}}},[s("option",[t._v("ON")]),t._v(" "),s("option",[t._v("OFF")])])]),t._v(" "),s("div",{staticClass:"col-xs-3"},[s("label",{attrs:{for:"sample"}},[t._v("Sample")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sample,expression:"sample"}],staticClass:"form-control",attrs:{type:"number",id:"sample",placeholder:"sample",min:"0",max:"100"},domProps:{value:t.sample},on:{input:function(e){e.target.composing||(t.sample=e.target.value)},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-xs-2 col-xs-offset-3"},[s("label",{attrs:{for:"file"}},[t._v("Device File")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:"file",id:"file"},on:{change:t.onFileChange}})]),t._v(" "),s("div",{staticClass:"col-xs-4"},[s("label",{attrs:{for:"devices"}},[t._v("Device List")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.devices,expression:"devices"}],staticClass:"form-control",attrs:{rows:"1",id:"devices",placeholder:"device1,device2,device3 or leave blank to update all devices"},domProps:{value:t.devices},on:{input:function(e){e.target.composing||(t.devices=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"update col-xs-6 col-xs-offset-3"},[s("button",{on:{click:t.updateSetting}},[t._v("Update")])])])]),t._v(" "),s("div",{staticClass:"result col-xs-6 col-xs-offset-3"},[s("div",[t._v("\n      "+t._s(t.result)+"\n    ")]),t._v(" "),t.detailedResult?s("pre",[t._v("\n      "+t._s(t.detailedResult)+"\n    ")]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-inverse"},[s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("ul",{staticClass:"nav navbar-nav"},[s("li",[s("router-link",{attrs:{to:"/",exact:""}},[t._v("Home")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/appmap",exact:""}},[t._v("Application Map")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"#",exact:""}},[t._v("Kusto Query")])],1)])])]),t._v(" "),s("router-view")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar-header"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Azure IoT Diagnostics")])])}]}}],[5]);
//# sourceMappingURL=app.3d1215069e3b9330bee1.js.map